<form action="#" method="POST" autocomplete="off">
    <fieldset class="embrulho-cabecalho-formulario">
        <!-- NOME DO FORUMALARIO A SER RESPONDIDO -->
        <legend>{{ nomeFormulario }}</legend>

        <!-- CABELACHO FORMULARIO -->
        <div class="form-row borda-inferior">
            <!-- DATA EMISSAO -->
            <div class="form-group col-md-2 espaco">
                <label for="inputEmissao" class="preenchimentoObrigatorio">Data Emissão</label>

                <input type="date" 
                       id="inputEmissao" 
                       required 
                       name="inputEmissao" 
                       [(ngModel)]="respostaFormulario.dataEmissao" 
                       disabled
                       class="form-control"
                >
            </div>
            <!-- HORA EMISSAO -->
            <div class="form-group col-md-2">
                <label for="inputHoraEmissao" class="preenchimentoObrigatorio">Hora Emissão</label>

                <input type="time" 
                       id="inputHoraEmissao" 
                       required 
                       name="inputHoraEmissao" 
                       [(ngModel)]="respostaFormulario.horaEmissao" 
                       disabled
                       class="form-control"
                >
            </div>
        </div>
        <!-- ITENS FORMULARIO -->
        <div>
            <table>
                <thead>
                    <th>Item</th>
                    <th>Pergunta</th>
                    <th>Conforme</th>
                    <th>Não Conforme</th>
                </thead>
                <tbody>
                    <tr *ngFor="let item of getRespostaFormulario().getItens()">
                        
                        <!-- A interrogação é uma diretiva do Angular para verificar se carregou o objeto, para depois fazer a iteração -->

                        <td> {{ item?.getItem() }}       </td>
                        <td> {{ item?.getPergunta() }} ? </td>

                        <td>
                            <input type="radio"
                                   required 
                                   name="{{ item.getItem() }}" 
                                   [(ngModel)]="item.conforme"
                                   value="true"
                                   (click)="retirarInconforme()" 
                            >
                        </td>
                        <td>
                            <input type="radio" 
                                   required 
                                   name="{{ item.getItem() }}" 
                                   [(ngModel)]="item.conforme"
                                   value="false"
                                   (click)="geraInconforme( item.getItem(), item.getPergunta() )"
                            >
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </fieldset>
    <!-- LISTA DE INCONFORMES  -->
    <fieldset class="embrulho-item-formulario">
        <legend>Não conformes</legend>
        <table>
            <thead></thead>
            <tbody>
                <tr *ngFor="let inconforme of inconformes">
                            <!-- Item -->      <!-- Não conforme -->
                    <td> {{ inconforme[00] }} - {{ inconforme[01] }} </td>
                    <td><input type="button" onclick="alert('teste no editar')" class="buttonEditar"></td>
                </tr>
                <tr>
            </tbody>
        </table>

        <div *ngIf="inconformes.length == 0" 
              class="font-green">
              Nenhuma inconformidade lançada. 
        </div>

    </fieldset>
    <!--  BOTOES -->
    <app-botoes-salvar-fechar 
                            (botaoSalvarClicado)=salvaRespostaFormulario($event)
                            (botaoFecharClicado)=fechaTela($event)>
    </app-botoes-salvar-fechar>

</form>

<div *ngIf="subTitulo">
    <tela-box [titulo]="'Descrição do não conforme!'"
              [subTitulo]="subTitulo"
              [mensagemBox]=""
              [controleChamada]="chamaInconforme"
              [placeholder]="'descreva aqui a não conformidade'"
              (botaoConfirmarClicado)="confirmaNaoConforme($event)"
    >
    </tela-box>
</div>
